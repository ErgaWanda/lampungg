<template>
  <div class="guide-wrapper">
    <div class="bg-decor-1"></div>
    <div class="bg-decor-2"></div>

    <el-container class="main-layout">
      <el-header class="glass-header">
        <div class="header-inner">
          <div class="brand-wrapper" @click="$router.push('/user/dashboard')">
            <div class="brand-icon-box">
              <el-icon><TrendCharts /></el-icon>
            </div>
            <div class="brand-info">
              <span class="brand-name">Sentimen<span class="text-primary">Pro</span></span>
              <span class="brand-tag">Panduan Pengguna</span>
            </div>
          </div>

          <div class="header-nav">
            <el-button @click="$router.push('/user/dashboard')" text>
              <el-icon class="mr-2"><Back /></el-icon> Kembali ke Dashboard
            </el-button>
          </div>
        </div>
      </el-header>

      <el-main class="main-content">
        <div class="content-container">
          <div class="page-header">
            <h1 class="display-title">Panduan Aplikasi</h1>
            <p class="lead-text">
              Pelajari cara menggunakan aplikasi analisis sentimen ini mulai dari awal hingga mendapatkan wawasan mendalam.
            </p>
          </div>

          <div class="timeline-container">
            <el-timeline>
              <!-- Step 1 -->
              <el-timeline-item timestamp="Langkah 1" placement="top" size="large" type="primary" color="#4f46e5">
                <el-card class="step-card">
                  <template #header>
                    <div class="card-header">
                      <h3><el-icon class="step-icon"><User /></el-icon> Registrasi & Login</h3>
                    </div>
                  </template>
                  <p>Sebelum memulai, pastikan Anda memiliki akun.</p>
                  <ul>
                    <li>Buka halaman <b>Register</b> jika belum punya akun.</li>
                    <li>Isi username dan password yang aman.</li>
                    <li>Login menggunakan akun yang telah dibuat.</li>
                  </ul>
                </el-card>
              </el-timeline-item>

              <!-- Step 2 -->
              <el-timeline-item timestamp="Langkah 2" placement="top" size="large" type="success" color="#10b981">
                <el-card class="step-card">
                  <template #header>
                    <div class="card-header">
                      <h3><el-icon class="step-icon"><Upload /></el-icon> Unggah Data (Admin)</h3>
                    </div>
                  </template>
                  <p>Proses analisis dimulai dengan data. (Fitur ini khusus Admin)</p>
                  <ul>
                    <li>Masuk ke menu <b>Upload</b>.</li>
                    <li>Siapkan file <b>Excel (.xlsx)</b> atau <b>CSV</b>.</li>
                    <li>Pastikan file memiliki kolom berisi teks komentar/ulasan.</li>
                    <li>Klik tombol Upload dan tunggu proses validasi.</li>
                  </ul>
                  <el-alert title="Format Data" type="info" :closable="false" show-icon>
                    File harus bersih dan memiliki header kolom yang jelas (misal: "text" atau "comment").
                  </el-alert>
                </el-card>
              </el-timeline-item>

              <!-- Step 3 -->
              <el-timeline-item timestamp="Langkah 3" placement="top" size="large" type="warning" color="#f59e0b">
                <el-card class="step-card">
                  <template #header>
                    <div class="card-header">
                      <h3><el-icon class="step-icon"><MagicStick /></el-icon> Proses Analisis Otomatis</h3>
                    </div>
                  </template>
                  <p>Sistem akan memproses data secara otomatis di belakang layar.</p>
                  <div class="process-steps">
                    <div class="p-step">
                      <span>1. Cleansing</span>
                      <small>Membersihkan teks dari simbol, emoji, dan noise.</small>
                    </div>
                    <div class="p-arrow">→</div>
                    <div class="p-step">
                      <span>2. Labeling (AI)</span>
                      <small>Model BERT memprediksi sentimen (Positif/Negatif/Netral).</small>
                    </div>
                    <div class="p-arrow">→</div>
                    <div class="p-step">
                      <span>3. Visualisasi</span>
                      <small>Data dikonversi menjadi grafik dan statistik.</small>
                    </div>
                  </div>
                </el-card>
              </el-timeline-item>

              <!-- Step 4 -->
              <el-timeline-item timestamp="Langkah 4" placement="top" size="large" type="danger" color="#ec4899">
                <el-card class="step-card">
                  <template #header>
                    <div class="card-header">
                      <h3><el-icon class="step-icon"><DataAnalysis /></el-icon> Eksplorasi Hasil</h3>
                    </div>
                  </template>
                  <p>Akses menu <b>Hasil Analisis</b> di dashboard Anda.</p>
                  <ul>
                    <li><b>Grafik Pie:</b> Melihat proporsi sentimen secara keseluruhan.</li>
                    <li><b>WordCloud:</b> Mengetahui kata-kata yang paling sering muncul.</li>
                    <li><b>Tabel Data:</b> Melihat detail setiap komentar beserta skor keyakinan AI.</li>
                  </ul>
                </el-card>
              </el-timeline-item>
              
              <!-- Step 5 -->
              <el-timeline-item timestamp="Langkah 5" placement="top" size="large" type="info" color="#3b82f6">
                 <el-card class="step-card">
                  <template #header>
                    <div class="card-header">
                      <h3><el-icon class="step-icon"><Filter /></el-icon> Filter & Laporan</h3>
                    </div>
                  </template>
                  <p>Gunakan fitur filter untuk analisis lebih spesifik.</p>
                   <ul>
                    <li>Filter berdasarkan rentang tanggal.</li>
                    <li>Filter berdasarkan kategori sentimen (misal: hanya melihat yang Negatif).</li>
                  </ul>
                </el-card>
              </el-timeline-item>

            </el-timeline>
          </div>
          
          <div class="cta-bottom">
             <el-button type="primary" size="large" round @click="$router.push('/user/results')">
                Lihat Hasil Analisis Sekarang
             </el-button>
          </div>

        </div>
      </el-main>
    </el-container>
  </div>
</template>

<script setup>
import { 
  TrendCharts, Back, User, Upload, MagicStick, DataAnalysis, Filter
} from '@element-plus/icons-vue'
</script>

<style scoped>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

.guide-wrapper {
  min-height: 100vh;
  background-color: #f8fafc;
  font-family: 'Inter', sans-serif;
  color: #1e293b;
  position: relative;
  overflow-x: hidden;
}

/* Background Decor (Similar to Dashboard) */
.bg-decor-1 {
  position: absolute;
  top: -100px;
  right: -5%;
  width: 600px;
  height: 600px;
  background: radial-gradient(circle, rgba(99, 102, 241, 0.08) 0%, rgba(255,255,255,0) 70%);
  border-radius: 50%;
  z-index: 0;
}
.bg-decor-2 {
  position: absolute;
  bottom: 0;
  left: -5%;
  width: 500px;
  height: 500px;
  background: radial-gradient(circle, rgba(236, 72, 153, 0.05) 0%, rgba(255,255,255,0) 70%);
  border-radius: 50%;
  z-index: 0;
}

.main-layout {
  position: relative;
  z-index: 1;
}

/* Header */
.glass-header {
  height: 70px;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(226, 232, 240, 0.8);
  position: sticky;
  top: 0;
  z-index: 100;
  padding: 0 24px;
}

.header-inner {
  max-width: 1000px;
  margin: 0 auto;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.brand-wrapper {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
}

.brand-icon-box {
  width: 36px;
  height: 36px;
  background: linear-gradient(135deg, #4f46e5 0%, #6366f1 100%);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 18px;
}

.brand-info {
  display: flex;
  flex-direction: column;
  line-height: 1.1;
}

.brand-name { font-weight: 700; font-size: 16px; }
.text-primary { color: #4f46e5; }
.brand-tag { font-size: 11px; color: #64748b; font-weight: 500; background: #f1f5f9; padding: 1px 6px; border-radius: 4px; width: fit-content; }

/* Content */
.main-content {
  padding: 40px 20px;
}

.content-container {
  max-width: 800px;
  margin: 0 auto;
}

.page-header {
  text-align: center;
  margin-bottom: 60px;
}

.display-title {
  font-size: 36px;
  font-weight: 800;
  color: #0f172a;
  margin-bottom: 16px;
}

.lead-text {
  font-size: 18px;
  color: #64748b;
  line-height: 1.6;
}

/* Timeline Customization */
.timeline-container {
  padding: 0 10px;
}

.step-card {
  border-radius: 16px;
  border: 1px solid #e2e8f0;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
  transition: transform 0.2s;
}
.step-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
}

.card-header h3 {
  margin: 0;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 18px;
  font-weight: 600;
  color: #1e293b;
}

.step-icon {
  font-size: 20px;
}

.step-card p {
  color: #475569;
  line-height: 1.6;
  margin-bottom: 12px;
}

.step-card ul {
  padding-left: 20px;
  color: #475569;
  line-height: 1.6;
}
.step-card li {
  margin-bottom: 8px;
}

/* Process Steps Visualization */
.process-steps {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #f8fafc;
  padding: 16px;
  border-radius: 12px;
  margin-top: 16px;
}
.p-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  flex: 1;
}
.p-step span {
  font-weight: 600;
  color: #334155;
  font-size: 14px;
}
.p-step small {
  font-size: 11px;
  color: #94a3b8;
  margin-top: 4px;
}
.p-arrow {
  color: #cbd5e1;
  font-weight: bold;
  font-size: 18px;
}

.cta-bottom {
    text-align: center;
    margin-top: 40px;
    margin-bottom: 60px;
}

@media (max-width: 640px) {
  .process-steps {
    flex-direction: column;
    gap: 16px;
  }
  .p-arrow {
    transform: rotate(90deg);
  }
}
</style>
